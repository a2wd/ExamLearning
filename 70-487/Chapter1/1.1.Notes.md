# Chapter 1 - Accessing data

## Part 1 - Choose data access technologies

The exam covers ADO.net, Entity Framework and WCF data services as data-access technologies.

### Choosing a technology

The different services can be used to achieve the same thing, but take a long time to set up. WCF is heavyweight - unecessary for a one-user scenario.

**ADO.net** (an overhaul of Active-X data objects) is older tech. The .net overhaul has a *disconnected model* (previously a *connected model, in ADO*). This means connections are opened and closed as soon as a task (INSERT, UPDATE, DELETE, etc) is complete.

This *closed model* helps mitigate DB locking which affects concurrency and also helps mitigate against connection limits, as there are a finite number of connections allowed in a DB.

ADO.net also has connection pooling where instead of opening up 10,000 connections for 10,000 request (or just 1 for all 10,000), they are pooled into groups (eg, of 50) and batched up.

ADO also manages active connections between 0 and a limit (default 100) depending on demand.

ADO.net is compatible **cross-platform** - libraries are included in `System.Data` for OracleClient or SqlClient and generic OleDb/Odbc.

**ADO.net architecture** like all other DBs involves connecting, executing commands and holding data.

**Data providers** are for read-only and forward-only access to data. There are a number of different providers, underlying interfaces and implementations:

* DbConnection is a provider based on the IDbConnection interface. Examples are SqlConnection or OracleConnection. It should be closed as soon as possible.
* DbCommand is a provider based on the IDbCommand interface. As per connections, you have SqlCommand, EntityCommand, etc. It governs the DB interactions and should be used with the Parameters collection for parameterised queries.
* DbDataReader is a provider based on the IDataReader interface, with OdbcDataReader and OleDbDataReader examples. It is a forward-only reader similar to a Stream with read-only access.
* DbDataAdapter, interface IDbDataAdapter, implemented by SqlDataAdapter is used with a Connection and a Command object to fill a DataSet/DataTable. It allows writes and changes can be batched up.
* DataSet is a regular .net object with no interface. It is a collection of DataTable objects with relevant metadata & relationships.
* DataTable is another regular .net object and relates to a view of data from a SELECT query or from .net code. It tracks data for write purposes.

### DataSet vs DataReader
