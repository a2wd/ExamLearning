# Review

Chapter 5 - Design and implement security

## Part 1

Configure authentication

### Thought experiment

1. To authenticate an app against an existing database, you could use the forms authentication and set up the authentication to use the pre-existing database

2. If the existing database is never grandfathered, this is a good solution as no changes are necessary.

3. If the existing database is in an old application, then support could be ended for it and as standards change, it may become obsolete.

### Quiz

* 1.B Digest credentials are hashed and checked against the local store or domain
* 2.A FormsAuthentication.SetAuthCookie allows you to set the credentials cookie
* 3.D You would use allow-anonymous to create an ASP whitelist
* 4.B/C/D IIdentity, IPrincipal & SqlMembershipProvider need to be implemented for a custom auth.
* 5.A/B/C/D/E WebSecurity provides access to CRUD for accounts.


## Part 2

Configure & apply authorisation

### Thought experiment

1. The advantages of many roles are for more fine-grained access permissions and the lack of need to change the application at a later date as it is more likely that every eventuality will have been thought of.

2. To mitigate the maintenance challenge, you could store the roles in active directory, or another third-party (or custom) roles system that is not tied to the application and can thus be updated independently.

### Quiz

* 1.B `[Authorize(Roles="Admin")]` allows you to programatically check for a user in a role in a controller
* 2.B/C `GetRolesForUser` and `IsUserInRole` allow you to check for a user in a role
* 3.B/D To create a custom roles provider, you must use `SimpleRoleProvider` and provide a config file entry.


## Part 3

Claims based authentication

### Thought experiment

1. When authenticating users through a third party claims-based system, the types of claims you might want to receive include a customer ID or identifying information such as a customer name/email and company.

2. Implementing Azure ACS would reduce the amount of work needed as many steps are taken care of by the framework.

### Quiz

* 1.D in an ACS system, ACS receives user claims and issues the final token to the app
* 2.B to use a custom token in WIF, you must override `SecurityTokenHandler`
* 3.A/B WIF adds the concept of a claim to the IIdentity and IPrincipal


## Part 4

### Thought experiment

### Quiz


## Part 5

### Thought experiment

### Quiz
